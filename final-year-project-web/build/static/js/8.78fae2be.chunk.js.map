{"version":3,"sources":["config/AppConfig.js","Hoc/requireOwnerAuth.js","components/Nav.js","components/Footer.js","utils/helper.js","components/EditDigitalItem.js","components/DigitalItemCard.js","views/Owner/index.js","Hooks/useGetOwnerDigitalItems.js"],"names":["config","AppName","ChildComponent","connect","state","auth","user","id","props","mapDispatchToProps","signOut","to","name","onClick","className","Footer","Date","getFullYear","generateUUID","d","getTime","window","performance","now","replace","c","r","Math","random","floor","toString","processImageToCloudinary","file","error","progress","cloudName","unsignedUploadPreset","a","url","data","FormData","userId","localStorage","getItem","actionTypes","append","Axios","post","onUploadProgress","progressEvent","parseInt","round","loaded","total","res","EditDigitalItem","openModal","setOpenModal","onSubmit","initialValues","loading","Form","useForm","form","useState","setProgress","uploading","setUploading","image","setUrl","normFile","info","fileList","length","slice","map","filename","media","filesize","size","lastDot","lastIndexOf","ext","notification","message","status","process","result","visible","onCancel","resetFields","footer","onFinish","validateFields","then","values","catch","console","log","layout","Item","label","hasFeedback","rules","required","valuePropName","getValueFromEvent","extra","maxCount","listType","beforeUpload","_","o","onChange","e","forEach","originFileObj","handleStatusChange","icon","UploadOutlined","type","htmlType","DigitalItemCard","openEditDigitalItemModal","setOpenEditDigitalItemModal","setloading","deleteBtn","setDeleteBtn","address","email","phoneNumber","rating","reviews","setUpdate","xs","sm","md","lg","xl","uid","thumbUrl","warning","key","FirebaseService","updateADigitalItemRequest","success","err","style","backgroundImage","EditOutlined","content","padding","color","backgroundColor","border","adminDeleteDigitalItemRequest","handleDeleteDigitalItem","trigger","onVisibleChange","DeleteOutlined","requireOwnerAuth","update","propValue","_isMounted","React","useRef","documents","setDocuments","loader","setLoader","setErr","useEffect","getOwnersDigitalItemsRequest","querySnapshot","arr","docs","doc","push","reverse","current","useGetOwnerDigitalItems","openAddDigitalItemModal","setOpenAddDigitalItemModal","ownerId","postNewDigitalItemRequest","display","justifyContent","width","paddingTop","item","i","history"],"mappings":"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","file":"static/js/8.78fae2be.chunk.js","sourcesContent":["const config = {\n  AppName: \"Digital Grill AR\",\n};\n\nexport default config;","\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\n// eslint-disable-next-line\nexport default ChildComponent => {\n  const ComposedComponent = props => {\n    // useEffect(() => {\n    //   if (props.auth) {\n    //     return props.history.push(\"/owner\");\n    //   } else { \n    //     return props.history.push(\"/\");\n    //   }\n    // }, [props.auth, props.history]);\n\n    return <ChildComponent {...props} />;\n  };\n\n  function mapStateToProps(state) {\n    return {\n      auth: (state.auth.user && state.auth.user.id) || null,\n    };\n  }\n\n  return connect(mapStateToProps)(ComposedComponent);\n};","import { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport config from '../config/AppConfig';\nimport '../asset/scss/Home.scss';\nimport { Button } from 'antd';\nimport { signOut } from '../redux/actions/auth';\n\nfunction Nav(props) {\n  const { user, signOut } = props;\n  return (\n    <header>\n      <nav>\n        <Link to=\"/\">\n          {config.AppName}\n        </Link>\n        <div>\n          {\n            user && user.name ? (\n              <ul>\n                <li>\n                  Hi, {user.name}\n                </li>\n                <li>\n                  <Button onClick={() => signOut()}>\n                    <i className=\"fas fa-sign-out-alt\"></i>&emsp;\n                    Log Out\n                  </Button>\n                </li>\n              </ul>\n            ) : (\n              <ul>\n                <li>\n                  <Link to=\"/login\">\n                    Log In\n                  </Link>\n                </li>\n                <li>\n                  <Link id=\"duo\" to=\"/register\">\n                    Sign Up\n                  </Link>\n                </li>\n              </ul>\n            )\n          }\n        </div>\n      </nav>\n    </header>\n  )\n}\n\nconst mapStateToProps = ({ auth }) => {\n  const {\n    user,\n  } = auth;\n  return {\n    user,\n  };\n};\n\nconst mapDispatchToProps = {\n  signOut\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Nav);\n","import config from '../config/AppConfig';\nimport '../asset/scss/Home.scss';\n\n\nexport default function Footer() {\n  return (\n    <footer>\n      <div>\n        <h1>{config.AppName}</h1>\n        <p>&copy; {new Date().getFullYear()}</p>\n      </div>\n    </footer>\n  )\n}","import Axios from \"axios\";\nimport * as actionTypes from \"../redux/constants/index\";\n\nfunction generateUUID() {\n  let d = new Date().getTime();\n  \n  if( window.performance && typeof window.performance.now === \"function\" ) {\n    d += performance.now();\n  }\n  \n  let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    const r = (d + Math.random()*16)%16 | 0;\n    d = Math.floor(d/16);\n    // eslint-disable-next-line\n    return (c==='x' ? r : (r&0x3|0x8)).toString(16);\n  });\n\n  return uuid;\n}\n\nasync function processImageToCloudinary(\n  file,\n  error,\n  progress,\n  cloudName,\n  unsignedUploadPreset\n) {\n  // `fieldName` and `meta` are not used for now${moment().format('DDMMMYYYY')}\n\n  try {\n    const url = `https://api.cloudinary.com/v1_1/${cloudName}/upload`;\n    const data = new FormData();\n    const userId = localStorage.getItem(actionTypes.AUTH_TOKEN_ID);\n\n    data.append(\"upload_preset\", unsignedUploadPreset);\n    data.append(\"tags\", [\"browser_upload\", userId]);\n    data.append(\"file\", file);\n    let res = await Axios.post(`${url}`, data, {\n      onUploadProgress: (progressEvent) => {\n        progress(\n          parseInt(\n            Math.round((progressEvent.loaded * 100) / progressEvent.total)\n          )\n        );\n      },\n    });\n    return res.data.url;\n  } catch (err) {\n    error(err);\n  }\n};\n\nexport {\n  generateUUID,\n  processImageToCloudinary\n};","import { Form, Button, Modal, Input, Upload, notification } from 'antd';\nimport { UploadOutlined, MailOutlined } from '@ant-design/icons';\nimport { useState } from 'react';\nimport { storage } from '../services/Firebase';\nimport { processImageToCloudinary } from '../utils/helper';\n\nexport default function EditDigitalItem(props) {\n  const {\n    openModal,\n    setOpenModal,\n    onSubmit,\n    initialValues,\n    loading,\n  } = props;\n  const [form] = Form.useForm();\n  const [progress, setProgress] = useState();\n  const [uploading, setUploading] = useState(false);\n  const [url, setUrl] = useState(initialValues.image[0].url);\n\n  const onFormSubmit = () => {\n    form.validateFields().then(values => {\n      onSubmit({\n        ...initialValues,\n        ...values,\n        image: url,\n      });\n      form.resetFields();\n    }).catch(info => {\n      console.log('Validate Failed:', info);\n    });\n  };\n\n  const normFile = async (info) => {\n    setUploading(true);\n    let fileList = [...info.fileList];\n    if (fileList.length === 0) return;\n    fileList = fileList.slice(-1);\n    await fileList.map(async (file) => {\n      const media = file;\n      const filename = media.name;\n      const filesize = media.size / 1024 / 1024;\n      const lastDot = filename.lastIndexOf('.');\n      const ext = filename.slice(lastDot + 1);\n      if (filesize > 20) {\n        notification.error({ message: 'Maximum image size should be 20MB' });\n        file.status = 'error';\n        setUploading(false);\n      } else if (\n        ext !== 'VRX'\n        && ext !== 'vrx'\n        && ext !== 'Vrx'\n      ) {\n        notification.error({\n          message: 'File extension should only be jpg, jpeg, or png',\n        });\n        file.status = 'error';\n        setUploading(false);\n      } else {\n        const result = await processImageToCloudinary(\n          file,\n          () => {\n            setUploading(false);\n            file.status = 'error';\n          },\n          setProgress,\n          process.env.REACT_APP_CLOUDINARY_CLOUD_NAME,\n          process.env.REACT_APP_CLOUDINARY_CLOUD_PRESET\n        )\n        if (result) {\n          file.url = result;\n          setUrl(result);\n          file.status = 'done';\n          setUploading(false);\n        }\n      }\n    });\n  };\n\n  const handleStatusChange = (info) => {\n    let fileList = [...info.fileList];\n    fileList = fileList.slice(-5);\n    fileList.forEach(function (file,) {\n      file.status = file?.originFileObj?.status;\n    });\n  };\n\n  return (\n    <Modal\n      visible={openModal}\n      onCancel={() => {\n        form.resetFields();\n        setOpenModal(false);\n      }}\n      footer={null}\n    >\n      <Form\n        name=\"edit-restaurant-form\"\n        onFinish={onFormSubmit}\n        form={form}\n        initialValues={initialValues}\n        layout=\"vertical\"\n      >\n        <Form.Item\n          label=\"Name\"\n          name=\"name\"\n          hasFeedback\n          rules={[{ required: true, message: 'Please input name!' }]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          name=\"image\"\n          label=\"Digital Item\"\n          valuePropName=\"fileList\"\n          getValueFromEvent={() => {}}\n          extra=\"Please upload a Digital Item with .vsx file extension for now, Thank you 😉.\"\n        >\n          <Upload\n            maxCount={1}\n            listType=\"picture\"\n            beforeUpload={(_, o) => normFile({ fileList: o })}\n            valuePropName=\"fileList\"\n            onChange={(e) => handleStatusChange(e)}\n          >\n            <Button icon={<UploadOutlined />}>\n              {uploading ? `Uploading... ${progress}%` : 'Click to upload'}\n            </Button>\n          </Upload>\n        </Form.Item>\n\n        <Form.Item>\n          <Button type=\"ghost\" htmlType=\"submit\" loading={loading}>\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import { Col, Button, Space, Input, Rate, Divider, Skeleton, notification, DatePicker, Result, Popover } from 'antd';\nimport React, { useState } from 'react';\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport EditDigitalItem from './EditDigitalItem';\nimport FirebaseService from '../services/FirebaseService';\nimport { generateUUID } from '../utils/helper';\nimport '../asset/scss/Home.scss';\n\nexport default function DigitalItemCard(props) {\n  const [openEditDigitalItemModal, setOpenEditDigitalItemModal] = useState(false);\n  const [loading, setloading] = useState(false);\n  const [deleteBtn, setDeleteBtn] = useState(\"\");\n  const { \n    data =  {\n      image: \"\",\n      name: \"\",\n      address: \"\",\n      email: \"\",\n      phoneNumber: \"\",\n      rating: \"\",\n      reviews: \"\",\n      id: \"\",\n    },\n    setUpdate\n  } = props;\n\n  const onSumitEditDigitalItem = (values) => {\n    setloading(true);\n    const id = generateUUID();\n    notification.warning({\n      message: \"Loading....\",\n      key: \"updateRes\"\n    })\n    FirebaseService.updateADigitalItemRequest(values.id, values)\n      .then(() => {\n        // FirebaseService.AdminEditDigitalItemNameOnReviewRequest(values.id, {\n        //   restaurantName: values.name,\n        // })\n        //   .then(() => {\n            setloading(false);\n            setOpenEditDigitalItemModal(false);\n            notification.success({\n              message: \"Digital Item Edited Successfully!\",\n              key: \"updateRes\"\n            });\n            setUpdate(id);\n          // })\n          // .catch(err => {\n          //   setloading(false);\n          //   notification.success({\n          //     message: \"An error occured, please try again!\",\n          //     key: \"updateRes\"\n          //   })\n          //   console.log(err);\n          // })\n      })\n      .catch(err => {\n        setloading(false);\n        notification.success({\n          message: \"An error occured, please try again!\",\n          key: \"updateRes\"\n        })\n        console.log(err);\n      })\n  }\n\n  const handleDeleteDigitalItem = (values) => {\n    const id = generateUUID();\n    notification.warning({\n      message: \"Loading....\",\n      key: \"del\"\n    })\n    FirebaseService.adminDeleteDigitalItemRequest(values.id)\n      .then(() => {\n        // FirebaseService.AdminDeleteAllDigitalItemReviewsRequest(values.id)\n        //   .then(() => {\n        //     props.history.push(\"/admin\")\n            notification.success({\n              message: \"Digital Item Deleted Successfully!\",\n              key: \"del\"\n            })\n            setUpdate(id);\n          // })\n          // .catch(err => {\n          //   notification.success({\n          //     message: \"An error occured, please try again!\",\n          //     key: \"del\"\n          //   })\n          //   console.log(err);\n          // })\n      })\n      .catch(err => {\n        notification.success({\n          message: \"An error occured, please try again!\",\n          key: \"del\"\n        })\n        console.log(err);\n      })\n  }\n\n  return (\n    <Col\n      xs={24}\n      sm={24}\n      md={12}\n      lg={8}\n      xl={8}\n    >\n      {openEditDigitalItemModal && (\n        <EditDigitalItem\n          openModal={openEditDigitalItemModal}\n          setOpenModal={setOpenEditDigitalItemModal}\n          initialValues={{\n            ...openEditDigitalItemModal,\n            image: [\n              {\n                uid: 0,\n                name: openEditDigitalItemModal.name,\n                status: 'done',\n                url: openEditDigitalItemModal.image,\n                thumbUrl: openEditDigitalItemModal.image,\n              },\n            ]\n          }}\n          loading={loading}\n          onSubmit={onSumitEditDigitalItem}\n        />\n      )}\n      <div className=\"restaurant-card\">\n        <div\n          className=\"restaurant-card_img\"\n          style={{ backgroundImage: `url(${data.image})` }}\n        >\n          <i className=\"fas fa-file\"></i>\n        </div>\n        <div>\n          <div className=\"restaurant-card-body\">\n            <h3>{data.name}</h3>\n            <Space size=\"middle\">\n              <Button type=\"ghost\" onClick={() => setOpenEditDigitalItemModal(data)} icon={<EditOutlined />} />\n              <Popover\n                content={\n                  <div>\n                    Are you sure you want to delete this Digital Item?\n                    <br />\n                    <button\n                      style={{padding: \"5px 10px\", color: \"white\", backgroundColor: \"red\", border: \"none\"}}\n                      onClick={() => {\n                        handleDeleteDigitalItem(data)\n                        setDeleteBtn(\"\")\n                      }}\n                    >\n                      Yes\n                    </button>\n                  </div>\n                }\n                trigger=\"click\"\n                visible={deleteBtn === data.id}\n                onVisibleChange={() => setDeleteBtn(deleteBtn !== data.id ? data.id : null)}\n              >\n                <Button type=\"default\" icon={<DeleteOutlined />} />\n              </Popover>\n            </Space>\n          </div>\n        </div>\n      </div>\n    </Col>\n  )\n}\n","import { Form, Col, Grid, Button, Modal, Input, Upload, notification } from 'antd';\nimport { UploadOutlined, MailOutlined } from '@ant-design/icons';\nimport { useState } from 'react';\nimport Nav from '../../components/Nav';\nimport Footer from '../../components/Footer';\nimport DigitalItemCard from '../../components/DigitalItemCard';\nimport requireOwnerAuth from '../../Hoc/requireOwnerAuth';\nimport FirebaseService from '../../services/FirebaseService';\nimport * as actionTypes from '../../redux/constants';\nimport { useGetOwnerDigitalItems } from '../../Hooks/useGetOwnerDigitalItems';\nimport { generateUUID, processImageToCloudinary } from '../../utils/helper';\nimport '../../asset/scss/Home.scss';\n\nfunction OwnerDashboard(props) {\n  const [update, setUpdate] = useState(\"\");\n  const { documents, loader } = useGetOwnerDigitalItems(update);\n  const [progress, setProgress] = useState();\n  const [uploading, setUploading] = useState(false);\n  const [loading, setloading] = useState(false);\n  const [url, setUrl] = useState(\"https://via.placeholder.com/300\");\n  const [form] = Form.useForm();\n  const [openAddDigitalItemModal, setOpenAddDigitalItemModal] = useState(false);\n  const onSubmit = () => {\n    form.validateFields().then(values => {\n      setloading(true);\n      const id = generateUUID();\n      values.image = url;\n      values.id = id;\n      values.ownerId = localStorage.getItem(actionTypes.AUTH_TOKEN_ID);\n      FirebaseService.postNewDigitalItemRequest(id, values)\n        .then(() => {\n          setloading(false);\n          notification.success({\n            message: \"Digital Item Added Successfully!\"\n          })\n          form.resetFields();\n          setOpenAddDigitalItemModal(false);\n          setUpdate(id);\n        }).catch(err => {\n          setloading(false);\n          notification.success({\n            message: \"An error occured, please try again!\"\n          })\n          console.log(err);\n        })\n    }).catch(info => {\n      setloading(false);\n      console.log('Validate Failed:', info);\n    });\n  };\n\n  const normFile = async (info) => {\n    setUploading(true);\n    let fileList = [...info.fileList];\n    if (fileList.length === 0) return;\n    fileList = fileList.slice(-1);\n    await fileList.map(async (file) => {\n      const media = file;\n      const filename = media.name;\n      const filesize = media.size / 1024 / 1024;\n      const lastDot = filename.lastIndexOf('.');\n      const ext = filename.slice(lastDot + 1);\n      if (filesize > 20) {\n        notification.error({ message: 'Maximum image size should be 20MB' });\n        file.status = 'error';\n        setUploading(false);\n      } else if (\n        ext !== 'VRX'\n        && ext !== 'vrx'\n        && ext !== 'Vrx'\n      ) {\n        notification.error({\n          message: 'File extension should only be vsx',\n        });\n        file.status = 'error';\n        setUploading(false);\n      } else {\n        const result = await processImageToCloudinary(\n          file,\n          () => {\n            setUploading(false);\n            file.status = 'error';\n          },\n          setProgress,\n          process.env.REACT_APP_CLOUDINARY_CLOUD_NAME,\n          process.env.REACT_APP_CLOUDINARY_CLOUD_PRESET\n        )\n        if (result) {\n          file.url = result;\n          setUrl(result);\n          file.status = 'done';\n          setUploading(false);\n        }\n      }\n    });\n  };\n\n  const handleStatusChange = (info) => {\n    let fileList = [...info.fileList];\n    fileList = fileList.slice(-5);\n    fileList.forEach(function (file,) {\n      file.status = file?.originFileObj?.status;\n    });\n  };\n\n  return (\n    <div className=\"Home\">\n    <Nav />\n    <Modal\n      visible={openAddDigitalItemModal}\n      onCancel={() => setOpenAddDigitalItemModal(false)}\n      footer={null}\n    >\n      <Form\n        name=\"add-restaurant-form\"\n        onFinish={onSubmit}\n        form={form}\n        layout=\"vertical\"\n      >\n        <Form.Item\n          label=\"Name\"\n          name=\"name\"\n          hasFeedback\n          rules={[{ required: true, message: 'Please input name!' }]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          name=\"image\"\n          required\n          label=\"Digital Item\"\n          valuePropName=\"fileList\"\n          getValueFromEvent={() => {}}\n          extra=\"Please upload a Digital Item with .vsx file extension for now, Thank you 😉.\"\n        >\n          <Upload\n            maxCount={1}\n            listType=\"picture\"\n            beforeUpload={(_, o) => normFile({ fileList: o })}\n            valuePropName=\"fileList\"\n            onChange={(e) => handleStatusChange(e)}\n          >\n            <Button icon={<UploadOutlined />}>\n              {uploading ? `Uploading... ${progress}%` : 'Click to upload'}\n            </Button>\n          </Upload>\n        </Form.Item>\n\n        <Form.Item>\n          <Button type=\"ghost\" htmlType=\"submit\" loading={loading}>\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    </Modal>\n   <div className=\"Home-Container container\">\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"100%\" }}>\n        <h2 style={{ padding: \"0px 15px\"}}>My Digital Items</h2>\n         <Button onClick={() => setOpenAddDigitalItemModal(true)}>\n          Add Digital Item\n        </Button> \n      </div>\n      <Col xs={24} sm={24} md={24} lg={24} xl={24} style={{ paddingTop: 0 }} className=\"Home-Container-list\">\n        <div style={{ padding: \"0px 10px 15px\"}} className=\"Home-Container-list_filtered-list\">\n          {documents &&\n            documents.length > 0 ? (\n              documents.map((item, i) => (\n                <DigitalItemCard key={i} data={item} history={props.history} setUpdate={setUpdate} />\n              ))\n            ) : (\n              <div className=\"Home-Container-list_filtered-list-empty\">\n                <h2>{loader ? \"Loading....\" : \"No Digital Item yet. Please add your first Digital Item today.\"}</h2>\n              </div>\n            )\n          }\n        </div>\n      </Col>\n    </div>\n    <Footer />\n    </div>\n  );\n}\n\nexport default requireOwnerAuth(OwnerDashboard);\n","import React from \"react\";\n\nimport FirebaseService from \"../services/FirebaseService\";\n\nexport const useGetOwnerDigitalItems = (propValue) => {\n  const _isMounted = React.useRef(true);\n  const [documents, setDocuments] = React.useState([]);\n  const [loader, setLoader] = React.useState(false);\n  const [err, setErr] = React.useState(\"false\");\n  React.useEffect(() => {\n    setLoader(true);\n    FirebaseService.getOwnersDigitalItemsRequest()\n      .then((querySnapshot) => {\n        let arr = [];\n        querySnapshot.docs.map((doc) =>\n          arr.push({ id: doc.id, ...doc.data() })\n        );\n        setDocuments(arr.reverse());\n        setLoader(false);\n      })\n      .catch((err) => {\n        setLoader(false);\n        setErr(err.message);\n      });\n      return () => {\n        _isMounted.current = false;\n      }\n  }, [setLoader, propValue]);\n\n  return {\n    documents,\n    loader,\n    err,\n  };\n};"],"sourceRoot":""}