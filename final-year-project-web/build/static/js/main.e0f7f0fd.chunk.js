(this["webpackJsonpdigital-grill"]=this["webpackJsonpdigital-grill"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return b}));var r="SIGNIN",a="SIGNIN_SUCCESS",c="SIGNIN_ERROR",u="SIGNUP",s="SIGNUP_SUCCESS",i="SIGNUP_ERROR",o="LOGOUT_PENDING",l="LOGOUT_SUCCESS",p="rc_au",f="rc_au_token",d="rc_au_token_id",b="update_key"},11:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(52),a=(n(125),n(138),n(139),{apiKey:"AIzaSyAN8zrDjHyT_lzyj-uHpKN2zq7sMkg0dsQ",authDomain:"merchadoos.firebaseapp.com",databaseURL:"https://merchadoos.firebaseio.com",projectId:"merchadoos",storageBucket:"merchadoos.appspot.com",messagingSenderId:"213488163625",appId:"1:213488163625:web:464d48303e7b105fc43538",measurementId:"G-GV3CMBJ1NC"});r.a.initializeApp(a);var c=r.a.firestore(),u=r.a.auth();r.a.storage(),u.currentUser},124:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(33),u=n.n(c),s=n(39),i=(n(124),n(84)),o=n(13),l=n(79),p=n(45),f=n(11),d=n(85),b=n(17),m=["component","authed"],h=["component","authed"],g=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,306))})),j=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,298))})),w=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,305))})),O=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(8)]).then(n.bind(null,304))}));function v(e){var t=e.component,n=e.authed,r=Object(l.a)(e,m);return Object(b.jsx)(p.Route,Object(o.a)(Object(o.a)({},r),{},{render:function(e){return!0===n?Object(b.jsx)(t,Object(o.a)({},e)):Object(b.jsx)(p.Redirect,{to:{pathname:"/login",state:{from:e.location}}})}}))}function x(e){var t=e.component,n=e.authed,r=Object(l.a)(e,h);return Object(b.jsx)(p.Route,Object(o.a)(Object(o.a)({},r),{},{render:function(e){return!1===n?Object(b.jsx)(t,Object(o.a)({},e)):Object(b.jsx)(p.Redirect,{to:"/owner"})}}))}var y={presistUser:d.a},I=Object(s.connect)((function(e){var t=e.auth;return{loading:t.loading,error:t.error}}),y)((function(e){var t=a.a.useRef(!0),n=a.a.useRef(!0),c=a.a.useState({authed:!1,loading:!0}),u=Object(i.a)(c,2),s=u[0],l=u[1],d=e.presistUser;return Object(r.useEffect)((function(){return n.current=f.a.onAuthStateChanged((function(e){e?(d(e.uid),l({authed:!0,loading:!1})):l({authed:!1,loading:!1})})),function(){n.current=!1,t.current=!1}}),[d]),Object(b.jsx)(r.Suspense,{fallback:function(){return Object(b.jsx)("div",{className:"empty",children:Object(b.jsx)("h2",{children:"Loading..."})})},children:Object(b.jsxs)(p.Switch,{children:[Object(b.jsx)(p.Route,{path:"/",exact:!0,component:function(e){return Object(b.jsx)(g,Object(o.a)({},e))}}),Object(b.jsx)(x,{authed:s.authed,path:"/login",component:function(e){return Object(b.jsx)(j,Object(o.a)({},e))}}),Object(b.jsx)(x,{authed:s.authed,path:"/register",component:function(e){return Object(b.jsx)(w,Object(o.a)({},e))}}),Object(b.jsx)(v,{authed:s.authed,path:"/owner",component:function(e){return Object(b.jsx)(O,Object(o.a)({},e))}})]})})})),R=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,299)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),r(e),a(e),c(e),u(e)}))},k=n(40);u.a.render(Object(b.jsx)(s.Provider,{store:k.a,children:Object(b.jsx)(p.Router,{history:k.b,children:Object(b.jsx)(I,{})})}),document.getElementById("root")),R()},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var r=n(53),a=(n(127),n(109)),c=n(108),u=n(110),s=n(13),i=n(111),o=n(10),l={loading:!1,error:null,token:localStorage.getItem(o.a||""),userId:localStorage.getItem(o.b||""),user:null},p=o.d,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.j:case o.g:return i.a.info({message:"Loading.....",duration:0,key:p}),Object(s.a)(Object(s.a)({},e),{},{loading:!0,error:null});case o.i:return i.a.success({message:"Welcome Back",key:p,duration:1.5}),Object(s.a)(Object(s.a)({},e),{},{user:t.payload,loading:!1,error:null});case o.l:return i.a.success({message:"Account Created Successfully",key:p,duration:1.5}),Object(s.a)(Object(s.a)({},e),{},{user:t.payload,loading:!1,error:null});case o.f:return i.a.success({message:"Good bye \ud83d\udc4b\ud83d\udc4b, Please come back again.",key:p,duration:1.5}),Object(s.a)(Object(s.a)({},l),{},{user:{}});case o.k:case o.h:return i.a.error({message:t.payload.message,key:p,duration:1}),Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:t.payload});default:return e}},d=function(e){return Object(r.b)({routers:Object(u.a)(e),auth:f})},b=(0,n(37).createBrowserHistory)(),m=Object(c.routerMiddleware)(b),h=[a.a,m];window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.c;var g=r.a.apply(void 0,h),j=Object(r.d)(d(b),{},g);t.a=j},43:function(e,t,n){"use strict";var r=n(13),a=n(4),c=n.n(a),u=n(12),s=n(11),i=n(10),o={};o.signInEmailRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.signInWithEmailAndPassword(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.signOutRequest=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.signOut();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),o.signUpEmailRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.createUserWithEmailAndPassword(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.signUpAddUserDetailsRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("users").doc(t).set(Object(r.a)({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.signInGetUserDetailsRequest=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("users").doc(t).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.adminGetAllUsers=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("users").get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),o.postNewDigitalItemRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("digitalItem").doc(t).set(Object(r.a)({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.getOwnersDigitalItemsRequest=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("digitalItem").where("ownerId","==",localStorage.getItem(i.b)).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),o.getDigitalItemsRequest=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("digitalItem").get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),o.getADigitalItemRequest=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("digitalItem").doc(t).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.updateADigitalItemRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("digitalItem").doc(t).update(Object(r.a)({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.postDigitalItemReviewRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("reviews").doc(t).set(Object(r.a)({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.getAdminDigitalItemReviewRequest=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("reviews").get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),o.getDigitalItemReviewRequest=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("reviews").where("restaurantId","==",t).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.getOwnerDigitalItemReviewRequest=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("reviews").where("restaurantOwnerId","==",localStorage.getItem(i.b)).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),o.replyDigitalItemReviewRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("reviews").doc(t).update(Object(r.a)({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.adminEditDigitalItemReviewRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("reviews").doc(t).update(Object(r.a)({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.adminDeleteDigitalItemReviewRequest=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("reviews").doc(t).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.adminDeleteDigitalItemRequest=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("digitalItem").doc(t).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.AdminEditDigitalItemNameOnReviewRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){var a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.b.batch(),u=s.b.collection("reviews").where("restaurantId","==",t).get(),e.next=4,u;case 4:return e.sent.forEach((function(e){a.update(e.ref,Object(r.a)({},n))})),e.next=7,a.commit();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.AdminDeleteAllDigitalItemReviewsRequest=function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.b.batch(),r=s.b.collection("reviews").where("restaurantId","==",t).get(),e.next=4,r;case 4:return e.sent.forEach((function(e){n.delete(e.ref)})),e.next=7,n.commit();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.adminDeleteUserDetailsRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("users").doc(t).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.AdminDeleteAllUserDigitalItemRequest=function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.b.batch(),r=s.b.collection("digitalItem").where("ownerId","==",t).get(),e.next=4,r;case 4:return e.sent.forEach((function(e){n.delete(e.ref)})),e.next=7,n.commit();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.AdminDeleteAllUserDigitalItemReviewsRequest=function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.b.batch(),r=s.b.collection("reviews").where("restaurantOwnerId","==",t).get(),e.next=4,r;case 4:return e.sent.forEach((function(e){n.delete(e.ref)})),e.next=7,n.commit();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.AdminDeleteAllUserReviewsRequest=function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.b.batch(),r=s.b.collection("reviews").where("reviewerId","==",t).get(),e.next=4,r;case 4:return e.sent.forEach((function(e){n.delete(e.ref)})),e.next=7,n.commit();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.adminUpdateUserDetailsRequest=function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("users").doc(t).update(Object(r.a)({},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.a=o},85:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));var r=n(4),a=n.n(r),c=n(12),u=n(43),s=n(10),i=n(40),o=function(){return function(e){e(function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s.e}),e.next=3,u.a.signOutRequest();case 3:return e.next=5,localStorage.clear();case 5:i.b.push("/"),t({type:s.f});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},l=function(e){return function(t){t(function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:s.g}),t.prev=1,t.next=4,u.a.signInGetUserDetailsRequest(e||localStorage.getItem(s.b));case 4:r=t.sent,localStorage.setItem(s.c,JSON.stringify(r.data())),n({type:s.i,payload:r.data()}),i.b.push("/owner"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),n({type:s.h,payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))}},p=function(e){return function(t){t(function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:s.g}),t.prev=1,t.next=4,u.a.signInEmailRequest(e.email,e.password);case 4:return r=t.sent,t.next=7,u.a.signInGetUserDetailsRequest(r.user.uid);case 7:c=t.sent,localStorage.setItem(s.b,r.user.uid),localStorage.setItem(s.a,r.user.Aa),localStorage.setItem(s.c,JSON.stringify(c.data())),n({type:s.i,payload:c.data()}),i.b.push("/owner"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0),n({type:s.h,payload:t.t0});case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}(e))}},f=function(e){return function(t){var n;t((n=e,function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s.j}),e.prev=1,e.next=4,u.a.signUpEmailRequest(n.email,n.password);case 4:return r=e.sent,c={id:r.user.uid,email:n.email,name:n.name},e.next=8,u.a.signUpAddUserDetailsRequest(r.user.uid,c);case 8:localStorage.setItem(s.b,r.user.uid),localStorage.setItem(s.a,r.user.Aa),localStorage.setItem(s.c,JSON.stringify(c)),t({type:s.l,payload:c}),i.b.push("/owner"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),t({type:s.k,payload:e.t0});case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()))}}}},[[137,2,3]]]);
//# sourceMappingURL=main.e0f7f0fd.chunk.js.map